<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script>
        function checkName() {
            const value = document.querySelector('#usernameRegistration').value;
            const button = document.querySelector('#regButton');
            if (value !== "") {
                let res = /^[a-zA-Z0-9_.]{1,30}$/.test(value);
                button.disabled = !res;
            } else {
                button.disabled = true
            }
        }
    </script>
</head>
<body style="background-color: #87ceeb">
    <div class="container-fluid p-5">
        <div class="card m-auto" style="width: 40rem;">
            <form id="formRegistration" class="text-center" th:object="${user}" th:action="@{/registration}" method="post">
                <h5>Регистрация</h5>
                <div class="mb-3">
                <label for="usernameRegistration" class="form-label">Никнейм</label>
                <input oninput="checkName()" th:field="*{username}" type="text" class="form-control" id="usernameRegistration" aria-describedby="usernameHelp">
                <div id="usernameHelp" class="form-text">Этот никнейм будет отображаться в профиле.</div>
                </div>
                <div class="mb-3">
                <label for="passwordRegistration" class="form-label">Пароль</label>
                <input th:field="*{password}" type="password" class="form-control" id="passwordRegistration">
                </div>
                <button id="regButton" type="submit" class="btn btn-primary w-100" disabled>Отправить данные</button>
                <a th:href="@{/login}" class="btn btn-primary mt-1 w-100" th:text="Авторизация"></a>
            </form>
        </div>
    </div>
</body>
</html>